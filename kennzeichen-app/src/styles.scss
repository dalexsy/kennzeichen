// Use main styles
@use 'styles/main' as *;

// Import Leaflet CSS
@import 'leaflet/dist/leaflet.css';

// Font Face Declaration - using relative path that works with base-href
@font-face {
  font-family: 'EuroPlate';
  src: url('assets/EuroPlate.ttf') format('truetype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

// Base typography
html {
  font-size: 16px;
}

body {
  font-family: $body-font;
  color: $text-primary;
  background-color: $background-primary;
  overflow-x: hidden;
  margin: 0;
  padding: 0;
  font-weight: 450;
}

// Reset
*,
*::before,
*::after {
  box-sizing: border-box;
}

* {
  margin: 0;
  padding: 0;
}

// App container
app-root {
  display: block;
  min-height: 100vh;
  max-width: 100vw;
}

// Utility classes
.container {
  width: 100%;
  max-width: 1200px;
  display: flex;
  justify-content: center;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  gap: 1rem;

  margin: 0 auto;
}

// Loading state
.loading {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  color: $text-secondary;
}

// Error state
.error {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  color: #d32f2f;
  text-align: center;
}

// Empty state
.empty {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  color: $text-secondary;
  text-align: center;
}

// Leaflet popup overrides - must be in global styles
.leaflet-popup-content-wrapper {
  border-radius: 0.5rem !important;
  font-family: $body-font !important;
  background-color: $background-secondary !important;
  color: $text-primary !important;
  box-shadow: rgba(102, 84, 67, 0.2) 3px 3px !important;
}

.leaflet-popup-content {
  margin: 1rem !important;
  font-size: 1rem !important;
  line-height: 1.5 !important;
}

.leaflet-popup-tip {
  box-shadow: rgba(102, 84, 67, 0.2) 3px 3px !important;
}

.leaflet-marker-pane {
  // filter: sepia(0.3) brightness(1.4);
}

.leaflet-tile-pane {
  filter: sepia(0.1) saturate(2) hue-rotate(378deg);

  @include dark-mode {
    filter: sepia(0.4) contrast(1.4);
  }
}

.leaflet-popup-close-button {
  top: 0.5rem !important;
  right: 0.5rem !important;
}

.marker-popup {
  display: flex;
  flex-direction: column;
}

.marker-popup .popup-code {
  font-family: $font-family-license-plate !important;
  font-size: 1.5rem !important;
  letter-spacing: 1px !important;
  color: $text-primary !important;
  line-height: 1.2 !important;
}

.marker-popup .popup-city {
  color: #18c09e !important;
  font-weight: bold !important;
}

.marker-popup .popup-state {
  color: $text-secondary !important;
}

.marker-popup .popup-origin {
  opacity: 0.8;
}

.leaflet-popup-tip {
  background: $background-secondary !important;
}

.leaflet-container {
  font-family: $body-font !important;
  background: $background-primary !important;
}

.leaflet-popup-close-button {
  color: $text-secondary !important;
  font-size: 1.5rem !important;
  line-height: 1 !important;
  width: 1.5rem !important;
  height: 1.5rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;

  &:hover {
    color: $text-primary !important;
  }
}
