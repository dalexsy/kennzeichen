<div class="app">
  <div class="sticky-header">
    <div class="container">
      <app-license-plate-display
        [enteredText]="currentSearchTerm"
        class="plate-display"
      ></app-license-plate-display>

      <div class="controls">
        <app-search-input
          [externalValue]="currentSearchTerm"
          (searchChange)="onSearchChange($event)"
          class="search"
        ></app-search-input>
      </div>
    </div>
  </div>

  <main class="main">
    <div class="content-wrapper">
      <app-map
        [licensePlates]="(filteredLicensePlates$ | async) || []"
        [selectedCode]="selectedCode"
        class="map-section"
      ></app-map>

      <app-license-plate-list
        [groupedLicensePlates$]="groupedLicensePlates$"
        [seenCodes$]="seenCodes$"
        [searchTerm]="currentSearchTerm"
        [selectedCode]="selectedCode"
        [isLoading]="isLoading"
        (itemClicked)="onLicensePlateClicked($event)"
        (viewChange)="onViewChange($event)"
        class="list"
      ></app-license-plate-list>
    </div>
  </main>
</div>
